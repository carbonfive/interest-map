<!DOCTYPE html>
<html lang="en-us">
  <head>
    <title>Interest Map</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js" charset="utf-8"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/3.10.1/lodash.js"></script>
    <style>
      svg { font-size: 14px; }

      .foreground path {
        fill: none;
        stroke: #800;
        stroke-width: 1.5px;
      }

      .axis line,
      .axis path {
        fill: none;
        /*stroke: #000;*/
        shape-rendering: crispEdges;
      }
    </style>
    <script>
      var NEW_SKILLS = [
        {"name": "Java 8",                                 "skilled": 0, "interested": 1}
      , {"name": "App Deployment",                         "skilled": 3, "interested": 2}
      , {"name": "Sales",                                  "skilled": 2, "interested": 2}
      , {"name": "Agile Process",                          "skilled": 4, "interested": 0}
      , {"name": "Public Speaking",                        "skilled": 4, "interested": 4}
      , {"name": "Brainstorming",                          "skilled": 1, "interested": 1}
      , {"name": "Information Architecture",               "skilled": 1, "interested": 1}
      , {"name": "Javascript",                             "skilled": 5, "interested": 1}
      , {"name": "Copywriting",                            "skilled": 0, "interested": 0}
      , {"name": "Visual Design",                          "skilled": 0, "interested": 2}
      , {"name": "HTML + CSS",                             "skilled": 4, "interested": 0}
      , {"name": "Interaction Design",                     "skilled": 0, "interested": 1}
      , {"name": "Client / Project Management",            "skilled": 2, "interested": 2}
      , {"name": "NoSQL Databases",                        "skilled": 1, "interested": 1}
      , {"name": "Prototyping",                            "skilled": 3, "interested": 1}
      , {"name": "IT",                                     "skilled": 1, "interested": 1}
      , {"name": "Objective C",                            "skilled": 1, "interested": 0}
      , {"name": "Search",                                 "skilled": 0, "interested": 0}
      , {"name": "Networking",                             "skilled": 2, "interested": 2}
      , {"name": "Quality Assurance",                      "skilled": 1, "interested": 0}
      , {"name": "Performance Tuning",                     "skilled": 0, "interested": 1}
      , {"name": "User Testing",                           "skilled": 2, "interested": 1}
      , {"name": "Security",                               "skilled": 0, "interested": 1}
      , {"name": "TDD",                                    "skilled": 2, "interested": 0}
      , {"name": "PR",                                     "skilled": 0, "interested": 0}
      , {"name": "Functional Programming",                 "skilled": 2, "interested": 3}
      , {"name": "Coaching/ Bootstrapping",                "skilled": 0, "interested": 2}
      , {"name": "Blogging",                               "skilled": 1, "interested": 0}
      , {"name": "SQL Databases",                          "skilled": 3, "interested": 0}
      , {"name": "Ruby",                                   "skilled": 4, "interested": 0}
      , {"name": "Brand Development",                      "skilled": 0, "interested": 0}
      , {"name": "Java",                                   "skilled": 2, "interested": 0}
      , {"name": "Field Research and User Empathy",        "skilled": 0, "interested": 1}
      , {"name": "Jumping",                                "skilled": 1, "interested": 0}
      , {"name": "Coffee",                                 "skilled": 4, "interested": 0}
      , {"name": "Mentoring",                              "skilled": 2, "interested": 2}
      , {"name": "Growth strategy",                        "skilled": 0, "interested": 2}
      , {"name": "Experiement-driven product development", "skilled": 0, "interested": 1}
      , {"name": "Social media marketing",                 "skilled": 0, "interested": 1}
      , {"name": "Product ideation / definition",          "skilled": 1, "interested": 2}
      , {"name": "Scala",                                  "skilled": 1, "interested": 2}
      , {"name": "Go",                                     "skilled": 2, "interested": 1}
      , {"name": "Haskell",                                "skilled": 2, "interested": 2}
      , {"name": "Data Strategy &amp; Analytics",          "skilled": 0, "interested": 1}
      , {"name": "Product Management",                     "skilled": 1, "interested": 2}
      , {"name": "Business strategy",                      "skilled": 0, "interested": 2}
      , {"name": "React",                                  "skilled": 1, "interested": 2}
      , {"name": "Customer Development",                   "skilled": 0, "interested": 3}
      , {"name": "Project Kick off",                       "skilled": 2, "interested": 1}
      , {"name": "Recruitment",                            "skilled": 0, "interested": 1}
      , {"name": "Stakeholder management",                 "skilled": 1, "interested": 1}
      , {"name": "Content strategy",                       "skilled": 0, "interested": 0}
      , {"name": "Individual Coaching",                    "skilled": 1, "interested": 0}
      , {"name": "Facilitation",                           "skilled": 0, "interested": 0}
      , {"name": "Swift",                                  "skilled": 0, "interested": 1}
      , {"name": "Team leadership",                        "skilled": 0, "interested": 2}
      , {"name": "Modeling",                               "skilled": 2, "interested": 0}
      ]

      var OLD_SKILLS = [
        {"name":"Blogging",                                "skilled": 0, "interested": 3}
      , {"name":"Networking",                              "skilled": 0, "interested": 0}
      , {"name":"Sales",                                   "skilled": 2, "interested": 0}
      , {"name":"Mentoring",                               "skilled": 3, "interested": 4}
      , {"name":"Public Speaking",                        "skilled": 2, "interested": 1}
      , {"name":"Field Research & User Empathy",        "skilled": 1, "interested": 4}
      , {"name":"Coffee",                                  "skilled": 3, "interested": 3}
      , {"name":"Brain- storming",                        "skilled": 1, "interested": 6}
      , {"name":"Interaction Design",                     "skilled": 1, "interested": 6}
      , {"name":"Visual Design",                          "skilled": 3, "interested": 5}
      , {"name":"Information Arch.",                      "skilled": 2, "interested": 4}
      , {"name":"Prototyping",                             "skilled": 2, "interested": 6}
      , {"name":"Brand Development",                      "skilled": 1, "interested": 3}
      , {"name":"IT",                                      "skilled": 5, "interested": 1}
      , {"name":"Quality Assurance",                      "skilled": 1, "interested": 0}
      , {"name":"User Testing",                           "skilled": 2, "interested": 1}
      , {"name":"Client/ Project Management",            "skilled": 5, "interested": 0}
      , {"name":"HTML & CSS",                             "skilled": 9, "interested": 3}
      , {"name":"JavaScript",                              "skilled": 9, "interested": 7}
      , {"name":"Functional Programming",                 "skilled": 3, "interested": 6}
      , {"name":"Objective C",                            "skilled": 2, "interested": 2}
      , {"name":"Security",                                "skilled": 0, "interested": 4}
      , {"name":"Performance Tuning",                     "skilled": 2, "interested": 3}
      , {"name":"Java",                                    "skilled": 4, "interested": 0}
      , {"name":"Ruby",                                    "skilled": 8, "interested": 6}
      , {"name":"Coaching/ Boot- strapping",             "skilled": 1, "interested": 3}
      , {"name":"Agile Process",                          "skilled": 7, "interested": 3}
      , {"name":"Analytics",                               "skilled": 3, "interested": 1}
      , {"name":"TDD",                                     "skilled": 2, "interested": 3}
      , {"name":"SQL Databases",                          "skilled": 5, "interested": 0}
      , {"name":"Search",                                  "skilled": 4, "interested": 0}
      , {"name":"Modeling",                                "skilled": 2, "interested": 1}
      , {"name":"App Deployment",                        "skilled": 2, "interested": 2}
      , {"name":"NoSQL Databases",                        "skilled": 2, "interested": 8}
      , {"name":"PR",                                      "skilled": 0, "interested": 2}
      , {"name":"Jumping",                                 "skilled": 0, "interested": 1}
      , {"name":"Copywriting",                             "skilled": 0, "interested": 0}
      ]

      // var COMBINED = [
      //   {"name":"Java 8","skilledNow":0,"interestedNow":1}
      // , {"name":"App Deployment","skilledNow":3,"interestedNow":2,"skilledThen":2,"interestedThen":2}
      // , {"name":"Sales","skilledNow":2,"interestedNow":2,"skilledThen":2,"interestedThen":0}
      // , {"name":"Agile Process","skilledNow":4,"interestedNow":0,"skilledThen":7,"interestedThen":3}
      // , {"name":"Public Speaking","skilledNow":4,"interestedNow":4,"skilledThen":2,"interestedThen":1}
      // , {"name":"Brainstorming","skilledNow":1,"interestedNow":1}
      // , {"name":"Information Architecture","skilledNow":1,"interestedNow":1}
      // , {"name":"Javascript","skilledNow":5,"interestedNow":1}
      // , {"name":"Copywriting","skilledNow":0,"interestedNow":0,"skilledThen":0,"interestedThen":0}
      // , {"name":"Visual Design","skilledNow":0,"interestedNow":2,"skilledThen":3,"interestedThen":5}
      // , {"name":"HTML + CSS","skilledNow":4,"interestedNow":0}
      // , {"name":"Interaction Design","skilledNow":0,"interestedNow":1,"skilledThen":1,"interestedThen":6}
      // , {"name":"Client / Project Management","skilledNow":2,"interestedNow":2}
      // , {"name":"NoSQL Databases","skilledNow":1,"interestedNow":1,"skilledThen":2,"interestedThen":8}
      // , {"name":"Prototyping","skilledNow":3,"interestedNow":1,"skilledThen":2,"interestedThen":6}
      // , {"name":"IT","skilledNow":1,"interestedNow":1,"skilledThen":5,"interestedThen":1}
      // , {"name":"Objective C","skilledNow":1,"interestedNow":0,"skilledThen":2,"interestedThen":2}
      // , {"name":"Search","skilledNow":0,"interestedNow":0,"skilledThen":4,"interestedThen":0}
      // , {"name":"Networking","skilledNow":2,"interestedNow":2,"skilledThen":0,"interestedThen":0}
      // , {"name":"Quality Assurance","skilledNow":1,"interestedNow":0,"skilledThen":1,"interestedThen":0}
      // , {"name":"Performance Tuning","skilledNow":0,"interestedNow":1,"skilledThen":2,"interestedThen":3}
      // , {"name":"User Testing","skilledNow":2,"interestedNow":1,"skilledThen":2,"interestedThen":1}
      // , {"name":"Security","skilledNow":0,"interestedNow":1,"skilledThen":0,"interestedThen":4}
      // , {"name":"TDD","skilledNow":2,"interestedNow":0,"skilledThen":2,"interestedThen":3}
      // , {"name":"PR","skilledNow":0,"interestedNow":0,"skilledThen":0,"interestedThen":2}
      // , {"name":"Functional Programming","skilledNow":2,"interestedNow":3,"skilledThen":3,"interestedThen":6}
      // , {"name":"Coaching/ Bootstrapping","skilledNow":0,"interestedNow":2}
      // , {"name":"Blogging","skilledNow":1,"interestedNow":0,"skilledThen":0,"interestedThen":3}
      // , {"name":"SQL Databases","skilledNow":3,"interestedNow":0,"skilledThen":5,"interestedThen":0}
      // , {"name":"Ruby","skilledNow":4,"interestedNow":0,"skilledThen":8,"interestedThen":6}
      // , {"name":"Brand Development","skilledNow":0,"interestedNow":0,"skilledThen":1,"interestedThen":3}
      // , {"name":"Java","skilledNow":2,"interestedNow":0,"skilledThen":4,"interestedThen":0}
      // , {"name":"Field Research and User Empathy","skilledNow":0,"interestedNow":1}
      // , {"name":"Jumping","skilledNow":1,"interestedNow":0,"skilledThen":0,"interestedThen":1}
      // , {"name":"Coffee","skilledNow":4,"interestedNow":0,"skilledThen":3,"interestedThen":3}
      // , {"name":"Mentoring","skilledNow":2,"interestedNow":2,"skilledThen":3,"interestedThen":4}
      // , {"name":"Growth strategy","skilledNow":0,"interestedNow":2}
      // , {"name":"Experiement-driven product development","skilledNow":0,"interestedNow":1}
      // , {"name":"Social media marketing","skilledNow":0,"interestedNow":1}
      // , {"name":"Product ideation / definition","skilledNow":1,"interestedNow":2}
      // , {"name":"Scala","skilledNow":1,"interestedNow":2}
      // , {"name":"Go","skilledNow":2,"interestedNow":1}
      // , {"name":"Haskell","skilledNow":2,"interestedNow":2}
      // , {"name":"Data Strategy &amp; Analytics","skilledNow":0,"interestedNow":1}
      // , {"name":"Product Management","skilledNow":1,"interestedNow":2}
      // , {"name":"Business strategy","skilledNow":0,"interestedNow":2}
      // , {"name":"React","skilledNow":1,"interestedNow":2}
      // , {"name":"Customer Development","skilledNow":0,"interestedNow":3}
      // , {"name":"Project Kick off","skilledNow":2,"interestedNow":1}
      // , {"name":"Recruitment","skilledNow":0,"interestedNow":1}
      // , {"name":"Stakeholder management","skilledNow":1,"interestedNow":1}
      // , {"name":"Content strategy","skilledNow":0,"interestedNow":0}
      // , {"name":"Individual Coaching","skilledNow":1,"interestedNow":0}
      // , {"name":"Facilitation","skilledNow":0,"interestedNow":0}
      // , {"name":"Swift","skilledNow":0,"interestedNow":1}
      // , {"name":"Team leadership","skilledNow":0,"interestedNow":2}
      // , {"name":"Modeling","skilledNow":2,"interestedNow":0,"skilledThen":2,"interestedThen":1}
      // , {"name":"Field Research & User Empathy","skilledThen":1,"interestedThen":4}
      // , {"name":"Brain- storming","skilledThen":1,"interestedThen":6}
      // , {"name":"Information Arch.","skilledThen":2,"interestedThen":4}
      // , {"name":"Client/ Project Management","skilledThen":5,"interestedThen":0}
      // , {"name":"HTML & CSS","skilledThen":9,"interestedThen":3}
      // , {"name":"JavaScript","skilledThen":9,"interestedThen":7}
      // , {"name":"Coaching/ Boot- strapping","skilledThen":1,"interestedThen":3}
      // , {"name":"Analytics","skilledThen":3,"interestedThen":1}
      // ]

      var COMBINED = [
        {"name":"Java 8","then":{},"now":{"skilled":0,"interested":1}}
      , {"name":"App Deployment","then":{"skilled":2,"interested":2},"now":{"skilled":3,"interested":2}},{"name":"Sales","then":{"skilled":2,"interested":0},"now":{"skilled":2,"interested":2}},{"name":"Agile Process","then":{"skilled":7,"interested":3},"now":{"skilled":4,"interested":0}},{"name":"Public Speaking","then":{"skilled":2,"interested":1},"now":{"skilled":4,"interested":4}},{"name":"Brainstorming","then":{},"now":{"skilled":1,"interested":1}},{"name":"Information Architecture","then":{},"now":{"skilled":1,"interested":1}},{"name":"Javascript","then":{},"now":{"skilled":5,"interested":1}},{"name":"Copywriting","then":{"skilled":0,"interested":0},"now":{"skilled":0,"interested":0}},{"name":"Visual Design","then":{"skilled":3,"interested":5},"now":{"skilled":0,"interested":2}},{"name":"HTML + CSS","then":{},"now":{"skilled":4,"interested":0}},{"name":"Interaction Design","then":{"skilled":1,"interested":6},"now":{"skilled":0,"interested":1}},{"name":"Client / Project Management","then":{},"now":{"skilled":2,"interested":2}},{"name":"NoSQL Databases","then":{"skilled":2,"interested":8},"now":{"skilled":1,"interested":1}},{"name":"Prototyping","then":{"skilled":2,"interested":6},"now":{"skilled":3,"interested":1}},{"name":"IT","then":{"skilled":5,"interested":1},"now":{"skilled":1,"interested":1}},{"name":"Objective C","then":{"skilled":2,"interested":2},"now":{"skilled":1,"interested":0}},{"name":"Search","then":{"skilled":4,"interested":0},"now":{"skilled":0,"interested":0}},{"name":"Networking","then":{"skilled":0,"interested":0},"now":{"skilled":2,"interested":2}},{"name":"Quality Assurance","then":{"skilled":1,"interested":0},"now":{"skilled":1,"interested":0}},{"name":"Performance Tuning","then":{"skilled":2,"interested":3},"now":{"skilled":0,"interested":1}},{"name":"User Testing","then":{"skilled":2,"interested":1},"now":{"skilled":2,"interested":1}},{"name":"Security","then":{"skilled":0,"interested":4},"now":{"skilled":0,"interested":1}},{"name":"TDD","then":{"skilled":2,"interested":3},"now":{"skilled":2,"interested":0}},{"name":"PR","then":{"skilled":0,"interested":2},"now":{"skilled":0,"interested":0}},{"name":"Functional Programming","then":{"skilled":3,"interested":6},"now":{"skilled":2,"interested":3}},{"name":"Coaching/ Bootstrapping","then":{},"now":{"skilled":0,"interested":2}},{"name":"Blogging","then":{"skilled":0,"interested":3},"now":{"skilled":1,"interested":0}},{"name":"SQL Databases","then":{"skilled":5,"interested":0},"now":{"skilled":3,"interested":0}},{"name":"Ruby","then":{"skilled":8,"interested":6},"now":{"skilled":4,"interested":0}},{"name":"Brand Development","then":{"skilled":1,"interested":3},"now":{"skilled":0,"interested":0}},{"name":"Java","then":{"skilled":4,"interested":0},"now":{"skilled":2,"interested":0}},{"name":"Field Research and User Empathy","then":{},"now":{"skilled":0,"interested":1}},{"name":"Jumping","then":{"skilled":0,"interested":1},"now":{"skilled":1,"interested":0}},{"name":"Coffee","then":{"skilled":3,"interested":3},"now":{"skilled":4,"interested":0}},{"name":"Mentoring","then":{"skilled":3,"interested":4},"now":{"skilled":2,"interested":2}},{"name":"Growth strategy","then":{},"now":{"skilled":0,"interested":2}},{"name":"Experiement-driven product development","then":{},"now":{"skilled":0,"interested":1}},{"name":"Social media marketing","then":{},"now":{"skilled":0,"interested":1}},{"name":"Product ideation / definition","then":{},"now":{"skilled":1,"interested":2}},{"name":"Scala","then":{},"now":{"skilled":1,"interested":2}},{"name":"Go","then":{},"now":{"skilled":2,"interested":1}},{"name":"Haskell","then":{},"now":{"skilled":2,"interested":2}},{"name":"Data Strategy &amp; Analytics","then":{},"now":{"skilled":0,"interested":1}},{"name":"Product Management","then":{},"now":{"skilled":1,"interested":2}},{"name":"Business strategy","then":{},"now":{"skilled":0,"interested":2}},{"name":"React","then":{},"now":{"skilled":1,"interested":2}},{"name":"Customer Development","then":{},"now":{"skilled":0,"interested":3}},{"name":"Project Kick off","then":{},"now":{"skilled":2,"interested":1}},{"name":"Recruitment","then":{},"now":{"skilled":0,"interested":1}},{"name":"Stakeholder management","then":{},"now":{"skilled":1,"interested":1}},{"name":"Content strategy","then":{},"now":{"skilled":0,"interested":0}},{"name":"Individual Coaching","then":{},"now":{"skilled":1,"interested":0}},{"name":"Facilitation","then":{},"now":{"skilled":0,"interested":0}},{"name":"Swift","then":{},"now":{"skilled":0,"interested":1}},{"name":"Team leadership","then":{},"now":{"skilled":0,"interested":2}},{"name":"Modeling","then":{"skilled":2,"interested":1},"now":{"skilled":2,"interested":0}},{"name":"Field Research & User Empathy","then":{"skilled":1,"interested":4},"now":{}},{"name":"Brain- storming","then":{"skilled":1,"interested":6},"now":{}},{"name":"Information Arch.","then":{"skilled":2,"interested":4},"now":{}},{"name":"Client/ Project Management","then":{"skilled":5,"interested":0},"now":{}},{"name":"HTML & CSS","then":{"skilled":9,"interested":3},"now":{}},{"name":"JavaScript","then":{"skilled":9,"interested":7},"now":{}},{"name":"Coaching/ Boot- strapping","then":{"skilled":1,"interested":3},"now":{}},{"name":"Analytics","then":{"skilled":3,"interested":1},"now":{}}
      ]

    </script>
  </head>
  <body>
    <div id="slope-graph"></div>
    <script>
      var SlopeGraph = (function() {
        var margin = {top: 20, right: 20, bottom: 30, left: 40}
          , width  = 400
          , height = 1200

        var times = ['then', 'now']

        var svg;

        function create(el, data) {
          width  = width - margin.left - margin.right
          height = height - margin.top - margin.bottom

          svg = d3.select(el).append('svg')
              .attr('class', 'd3')
              .attr('width', width + margin.right + margin.left)
              .attr('height', height + margin.top + margin.bottom)
            .append('g')
              .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')')

          update( data )
        }

        function update(data) {
          var cleanData = _munge(data)
          var scales = _scales(cleanData)
          _drawLines(scales, cleanData)
          _drawAxis(scales, cleanData)
          _drawLabels(scales, cleanData)
        }

        function _munge(data) {
          return data.filter(function(item) { return item.now.skilled && item.then.skilled })
        }

        function _scales(data) {
          var x = d3.scale.ordinal()
            .domain(times)
            .rangePoints([0, width])

          var y = times.reduce(function(scales, time) {
            scales[time] = d3.scale.linear()
              .domain( d3.extent(data, function(d) { return d[time].skilled } ))
              .range([height, 0])

            return scales
          }, {})

          return {
            x: x,
            y: y
          }
        }

        function _drawAxis(scales, data) {
          var g = svg.selectAll('.time')
              .data(times)
            .enter().append('g')
              .attr('class', 'time')
              .attr('transform', function(d) { return 'translate(' + scales.x(d) + ')' })

          var axis = d3.svg.axis()
            .scale(scales.y)
            .orient('left')

          g.append('g')
              .attr('class', 'axis')
              .each(function(d) { d3.select(this).call(axis.scale(scales.y[d])) })
            .append('text')
              .attr('text-anchor', 'middle')
              .attr('y', -9)
              .text(String)
        }

        function _drawLines(scales, data) {
          var line = d3.svg.line()

          console.log(data);

          var path = svg.append('g')
              .attr('class', 'foreground')
            .selectAll('path')
              .data(data)
            .enter().append('path')
              .attr('d', path)
              .attr('class', function(d) { return d.name })

          function path(d) {
            return line(times.map(function(t) {
              return [scales.x(t), scales.y[t](d[t].skilled)]
            }))
          }
        }

        function _drawLabels(scales, data) {
          var labels = svg.append('text')
        }

        return {
          create: create,
          update: update
        }
      })();
      //
      // var combined = {}
      //
      // NEW_SKILLS.forEach(function(item) {
      //   combined[item.name] = combined[item.name] ? combined[item.name] : {}
      //   combined[item.name].skilledNow = item.skilled
      //   combined[item.name].interestedNow = item.interested
      // })
      // OLD_SKILLS.forEach(function(item) {
      //   combined[item.name] = combined[item.name] ? combined[item.name] : {}
      //   combined[item.name].skilledThen    = item.skilled
      //   combined[item.name].interestedThen = item.interested
      // })

      // combined = Object.keys(combined).map(function(name) { return _.merge({name: name}, combined[name])})

      SlopeGraph.create("#slope-graph", COMBINED )
    </script>
  </body>
</html>
