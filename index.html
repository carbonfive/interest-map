<!DOCTYPE html>
<html lang="en-us">
  <head>
    <title>Interest Map</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js" charset="utf-8"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/3.10.1/lodash.js"></script>
    <style>

      body {
        font-family: georgia;
        font-size: 16px;
      }

      svg {
        font-size: 0.7rem;
        font-weight: 800;
      }

      path {
        fill: none;
        stroke: #a7a7a7;
        stroke-width: 1px;
      }

      .axis line,
      .axis path {
        fill: none;
        shape-rendering: crispEdges;
      }

      .slope-graph {
        display: inline-block;
      }
    </style>
    <script>
      var COMBINED = [
        {"name":"Java 8","then":{},"now":{"skilled":0,"interested":1}}
      , {"name":"App Deployment","then":{"skilled":2,"interested":2},"now":{"skilled":3,"interested":2}},{"name":"Sales","then":{"skilled":2,"interested":0},"now":{"skilled":2,"interested":2}},{"name":"Agile Process","then":{"skilled":7,"interested":3},"now":{"skilled":4,"interested":0}},{"name":"Public Speaking","then":{"skilled":2,"interested":1},"now":{"skilled":4,"interested":4}},{"name":"Brainstorming","then":{},"now":{"skilled":1,"interested":1}},{"name":"Information Architecture","then":{},"now":{"skilled":1,"interested":1}},{"name":"Javascript","then":{},"now":{"skilled":5,"interested":1}},{"name":"Copywriting","then":{"skilled":0,"interested":0},"now":{"skilled":0,"interested":0}},{"name":"Visual Design","then":{"skilled":3,"interested":5},"now":{"skilled":0,"interested":2}},{"name":"HTML + CSS","then":{},"now":{"skilled":4,"interested":0}},{"name":"Interaction Design","then":{"skilled":1,"interested":6},"now":{"skilled":0,"interested":1}},{"name":"Client / Project Management","then":{},"now":{"skilled":2,"interested":2}},{"name":"NoSQL Databases","then":{"skilled":2,"interested":8},"now":{"skilled":1,"interested":1}},{"name":"Prototyping","then":{"skilled":2,"interested":6},"now":{"skilled":3,"interested":1}},{"name":"IT","then":{"skilled":5,"interested":1},"now":{"skilled":1,"interested":1}},{"name":"Objective C","then":{"skilled":2,"interested":2},"now":{"skilled":1,"interested":0}},{"name":"Search","then":{"skilled":4,"interested":0},"now":{"skilled":0,"interested":0}},{"name":"Networking","then":{"skilled":0,"interested":0},"now":{"skilled":2,"interested":2}},{"name":"Quality Assurance","then":{"skilled":1,"interested":0},"now":{"skilled":1,"interested":0}},{"name":"Performance Tuning","then":{"skilled":2,"interested":3},"now":{"skilled":0,"interested":1}},{"name":"User Testing","then":{"skilled":2,"interested":1},"now":{"skilled":2,"interested":1}},{"name":"Security","then":{"skilled":0,"interested":4},"now":{"skilled":0,"interested":1}},{"name":"TDD","then":{"skilled":2,"interested":3},"now":{"skilled":2,"interested":0}},{"name":"PR","then":{"skilled":0,"interested":2},"now":{"skilled":0,"interested":0}},{"name":"Functional Programming","then":{"skilled":3,"interested":6},"now":{"skilled":2,"interested":3}},{"name":"Coaching/ Bootstrapping","then":{},"now":{"skilled":0,"interested":2}},{"name":"Blogging","then":{"skilled":0,"interested":3},"now":{"skilled":1,"interested":0}},{"name":"SQL Databases","then":{"skilled":5,"interested":0},"now":{"skilled":3,"interested":0}},{"name":"Ruby","then":{"skilled":8,"interested":6},"now":{"skilled":4,"interested":0}},{"name":"Brand Development","then":{"skilled":1,"interested":3},"now":{"skilled":0,"interested":0}},{"name":"Java","then":{"skilled":4,"interested":0},"now":{"skilled":2,"interested":0}},{"name":"Field Research and User Empathy","then":{},"now":{"skilled":0,"interested":1}},{"name":"Jumping","then":{"skilled":0,"interested":1},"now":{"skilled":1,"interested":0}},{"name":"Coffee","then":{"skilled":3,"interested":3},"now":{"skilled":4,"interested":0}},{"name":"Mentoring","then":{"skilled":3,"interested":4},"now":{"skilled":2,"interested":2}},{"name":"Growth strategy","then":{},"now":{"skilled":0,"interested":2}},{"name":"Experiement-driven product development","then":{},"now":{"skilled":0,"interested":1}},{"name":"Social media marketing","then":{},"now":{"skilled":0,"interested":1}},{"name":"Product ideation / definition","then":{},"now":{"skilled":1,"interested":2}},{"name":"Scala","then":{},"now":{"skilled":1,"interested":2}},{"name":"Go","then":{},"now":{"skilled":2,"interested":1}},{"name":"Haskell","then":{},"now":{"skilled":2,"interested":2}},{"name":"Data Strategy &amp; Analytics","then":{},"now":{"skilled":0,"interested":1}},{"name":"Product Management","then":{},"now":{"skilled":1,"interested":2}},{"name":"Business strategy","then":{},"now":{"skilled":0,"interested":2}},{"name":"React","then":{},"now":{"skilled":1,"interested":2}},{"name":"Customer Development","then":{},"now":{"skilled":0,"interested":3}},{"name":"Project Kick off","then":{},"now":{"skilled":2,"interested":1}},{"name":"Recruitment","then":{},"now":{"skilled":0,"interested":1}},{"name":"Stakeholder management","then":{},"now":{"skilled":1,"interested":1}},{"name":"Content strategy","then":{},"now":{"skilled":0,"interested":0}},{"name":"Individual Coaching","then":{},"now":{"skilled":1,"interested":0}},{"name":"Facilitation","then":{},"now":{"skilled":0,"interested":0}},{"name":"Swift","then":{},"now":{"skilled":0,"interested":1}},{"name":"Team leadership","then":{},"now":{"skilled":0,"interested":2}},{"name":"Modeling","then":{"skilled":2,"interested":1},"now":{"skilled":2,"interested":0}},{"name":"Field Research & User Empathy","then":{"skilled":1,"interested":4},"now":{}},{"name":"Brain- storming","then":{"skilled":1,"interested":6},"now":{}},{"name":"Information Arch.","then":{"skilled":2,"interested":4},"now":{}},{"name":"Client/ Project Management","then":{"skilled":5,"interested":0},"now":{}},{"name":"HTML & CSS","then":{"skilled":9,"interested":3},"now":{}},{"name":"JavaScript","then":{"skilled":9,"interested":7},"now":{}},{"name":"Coaching/ Boot- strapping","then":{"skilled":1,"interested":3},"now":{}},{"name":"Analytics","then":{"skilled":3,"interested":1},"now":{}}
      ]
    </script>
  </head>
  <body>
    <div id="skills-graph" class="slope-graph">
      <h1>Skilled</h1>
    </div>
    <div id="interests-graph" class="slope-graph">
      <h1>Interested</h1>
    </div>
    <script>
      var SlopeGraph = (function() {
        var margin = {top: 20, right: 20, bottom: 30, left: 40}
          , width  = 400
          , height = 1200

        var svg;

        function create(el, data) {
          width  = width - margin.left - margin.right
          height = height - margin.top - margin.bottom

          svg = d3.select(el).append('svg')
              .attr('class', 'd3')
              .attr('width', width + margin.right + margin.left)
              .attr('height', height + margin.top + margin.bottom)
            .append('g')
              .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')')

          update( data )
        }

        function update(data) {
          var cleanData = _munge(data)
          var scales = _scales(cleanData)
          _drawLines(scales, cleanData)
          _drawLabels(scales, cleanData)
        }

        function _munge(data) {
          return data
        }

        function _scales(data) {
          var x = d3.scale.ordinal()
            .domain([0, 1])
            .rangePoints([0, width])

          var y = d3.scale.linear()
            .domain([
              d3.min(data, function(d) { return d3.min(d.points) }),
              d3.max(data, function(d) { return d3.max(d.points) })
            ])
            .range([height, 0])

          return {
            x: x,
            y: y
          }
        }

        function _drawLines(scales, data) {
          var line = d3.svg.line()
            .x(function(d, i) { return scales.x(i) })
            .y(function(d)    { return scales.y(d) })

          var topic = svg.selectAll('.topic')
              .data(data)
            .enter().append('g')
              .attr('class', 'topic')

          topic.append('path')
            .attr('class', 'line')
            .attr('d', function(d) { return line(d.points) })

          topic.append('text')
            .attr('transform', function(d) { return 'translate(0,' + scales.y(d.points[0]) + ')' })
            .attr('x', 3)
            .attr('dy', function(d, i) { return (0.35 + (i % 4)) + 'em' })
            .text(function(d) { return d.name })
        }

        function _drawLabels(scales, data) {
          svg.selectAll('.left-label')
              .data(data)
            .enter().append('text')
              .attr('class', 'left-label')
              .attr('transform', function(d) { return 'translate(0,' + scales.y(d.points[0]) + ')' })
              .text(function(d) { return d.points[0] })

          svg.selectAll('.right-label')
              .data(data)
            .enter().append('text')
              .attr('class', 'right-label')
              .attr('transform', function(d, i) { return 'translate(' + scales.x(1) + ',' + scales.y(d.points[1]) + ')' })
              .text(function(d) { return d.points[1] })
        }

        return {
          create: create,
          update: update
        }
      })();

      var skilledData = COMBINED.map(function(item) {
        var newItem = {}
        newItem.name = item.name
        newItem.points = [(item.then.skilled||0), (item.now.skilled||0)]
        return newItem
      })

      var interestedData = COMBINED.map(function(item) {
        var newItem = {}
        newItem.name = item.name
        newItem.points = [(item.then.interested||0), (item.now.interested||0)]
        return newItem
      })

      SlopeGraph.create("#skills-graph", skilledData)
      SlopeGraph.create("#interests-graph", interestedData)
    </script>
  </body>
</html>
